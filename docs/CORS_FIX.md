# Исправление ошибки CORS

## Проблема
Возникала ошибка CORS при запросах к эндпоинту `token/` из фронтенда.

## Решение

### 1. Обновлены настройки CORS в Django (backend/online_library/settings.py)
- Добавлены дополнительные порты для фронтенда (4173 для Vite preview)
- Добавлены дополнительные заголовки для CORS

### 2. Настроен прокси в Vite (frontend/app/vite.config.js)
- Добавлен прокси для `/api` запросов к `http://localhost:8000`
- Настроен `changeOrigin: true` для правильной работы CORS

### 3. Обновлен API сервис (frontend/app/src/services/api.js)
- Изменен базовый URL с абсолютного `http://localhost:8000/api` на относительный `/api`
- Теперь запросы идут через прокси Vite

## Как это работает
1. Фронтенд делает запрос к `/api/auth/token/`
2. Vite проксирует этот запрос к `http://localhost:8000/api/auth/token/`
3. Django обрабатывает запрос с правильными CORS заголовками
4. Ответ возвращается через прокси обратно во фронтенд

## Перезапуск сервисов
После внесения изменений необходимо перезапустить:
1. Django сервер: `python manage.py runserver`
2. Vite dev server: `npm run dev` (в папке frontend/app)

## Проверка
После перезапуска сервисов ошибка CORS должна исчезнуть, и авторизация должна работать корректно.
